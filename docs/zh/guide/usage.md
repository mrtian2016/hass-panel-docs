# 使用指南


## 系统概述
本系统是一个基于 Home Assistant 的可视化控制面板，提供了丰富的卡片组件和直观的操作界面，帮助您更便捷地管理智能家居设备。主要功能包括设备状态监控、智能控制、自动化管理等。

## 1. 初始化
<!-- 图片 -->
![Home Assistant 面板初始化页面，包含管理员账号设置和 Home Assistant 连接配置](/init_page.png)

在初始化页面中，您需要填写以下信息：

1. **管理员用户名**：设置您的管理员账号用户名
2. **管理员密码**：设置一个安全的管理员密码
3. **确认密码**：再次输入管理员密码进行确认
4. **HomeAssistant地址**：输入您的 Home Assistant 实例地址
   - 格式示例：http://homeassistant.local:8123
   - 请确保地址可以正确访问到您的 Home Assistant 实例
5. **HomeAssistant Token**（可选）：
   - 如果您的 Home Assistant 启用了长期访问令牌认证，请在此处输入
   - 如果不输入则登录成功后会自动跳转至 Home Assistant 登录页面获得授权

填写完所有必要信息后，点击"初始化系统"按钮完成设置。系统将使用这些信息创建管理员账号并跳转至登录页面。

## 2. 系统首页

登录成功后会进入系统首页。
<!-- 图片 -->
![系统首页](/home_empty.png)

在系统首页的左上角，有六个功能按钮：

1. **夜间模式切换**：点击可以在明亮模式和夜间模式之间切换，方便夜间使用
2. **国际化**：切换系统显示语言，支持多语言界面
3. **配置**：打开系统配置面板，可以进行系统相关设置
4. **编辑**：进入页面编辑模式，可以调整卡片大小、位置
5. **切换列数**：调整页面显示的列数，优化布局展示
6. **全屏**：切换全屏显示模式，获得更大的显示空间

## 3. 系统配置

在系统配置面板中，您可以进行系统相关设置。
<!-- 图片 -->
![系统配置](/config_empty.png)

配置页面提供了以下功能：

### 顶部导航栏
在页面右上角有三个主要按钮：
1. **首页**：点击返回系统首页
2. **全局配置**：打开系统全局设置面板，可以配置系统级别的参数
3. **配置管理**：用于导入/导出系统配置，方便备份和迁移

### 添加卡片
- 在页面右下角有一个**添加卡片**按钮（+），点击可以添加新的卡片到页面中

### 版本信息
在页面底部显示：
- 当前版本号
- **检查更新**按钮：点击可以检查系统是否有新版本
- **手动更新**按钮：可以手动上传更新包
- 系统相关链接：请求帮助、关闭等
- GitHub仓库链接：可以访问项目源码

## 4. 添加卡片
![卡片添加界面，展示了可选的卡片类型列表和配置选项](/add_card.png)

在页面右下角有一个**添加卡片**按钮（+），点击可以添加新的卡片到页面中。
在添加卡片页面中，您可以选择卡片类型，并进行卡片配置。

### 卡片类型
系统提供了多种类型的卡片，您可以根据需要选择：

1. **信息显示**
   - **时间**：显示当前时间信息
   - **天气**：显示天气预报信息
   - **传感器**：显示各类传感器数据
   - **电量监控**：监控设备用电量

2. **照明控制**
   - **灯光状态**：显示和控制单个灯光设备
   - **灯光概览**：可视化展示全屋灯光状态
   - **光照传感器**：监测环境光照度

3. **智能家电**
   - **空调控制**：控制空调温度和模式
   - **窗帘控制**：控制智能窗帘
   - **净水器**：显示净水器状态和控制
   - **插座状态**：控制智能插座

4. **安防监控**
   - **监控画面**：显示摄像头监控画面
   - **人体传感器**：检测人体活动
   - **路由监控**：显示路由器相关信息
   - **NAS监控**：监控网络存储设备状态

5. **娱乐系统**
   - **媒体播放器**：控制音视频播放设备
   - **媒体播放器(大)**：更大尺寸的媒体控制界面

6. **自动化**
   - **快捷指令**：执行预设的自动化指令

### 使用方法
1. 点击右下角的添加按钮（+）打开添加卡片页面
2. 从卡片列表中选择需要添加的卡片类型
3. 根据选择的卡片类型，配置相应的参数
4. 完成配置后，卡片将被添加到主页面
5. 可以通过编辑模式调整卡片的大小和位置

## 5. 卡片配置
在添加或编辑卡片时，您可以对卡片进行详细配置。以下以灯光状态卡片为例进行说明：
<!-- 图片 -->
![卡片配置](/card_edit.png)

### 配置项目
1. **卡片标题**
   - 设置卡片在页面上显示的标题
   - 可以根据设备用途或位置自定义，如"客厅灯"、"主卧台灯"等

2. **设备配置**
   - **灯光名称**：填写要控制的灯光名称
   - **选择实体ID**：选择要控制的灯光实体ID
   - **图标**：选择设备显示的图标
     - 系统提供了丰富的图标库
     - 可以选择最符合设备特点的图标，如落地灯、吊灯等

### 操作按钮
- **添加**：添加更多设备到当前卡片中
- **上移/下移**：调整多个设备的显示顺序
- **删除**：移除不需要的设备

### 保存设置
- **取消**：放弃当前的修改并返回
- **保存**：确认配置并保存更改

### 使用技巧
1. 设备名称建议使用容易识别的命名，如按房间或功能命名
2. 可以在一个卡片中添加多个相关的设备，方便集中控制
3. 合理使用上移/下移功能，将常用设备排在前面
4. 配置完成后可以在首页编辑模式下调整卡片的大小和位置

## 6. 卡片管理
在配置页面中，您可以对卡片进行管理。
<!-- 图片 -->
![卡片管理](/config.png)

### 卡片列表
每个卡片卡片包含以下内容：
1. **卡片图标和名称**：直观显示卡片类型和标题
2. **显示控制**
   - **显示标题**：控制是否在首页显示卡片的标题
   - **显示卡片**：控制是否在首页显示该卡片

### 卡片操作
每个卡片卡片右侧提供两个操作按钮：
1. **编辑**：点击铅笔图标进入卡片配置页面，可以修改卡片的详细设置
2. **删除**：点击垃圾桶图标删除该卡片

### 添加新卡片
- 点击右下角的**添加**按钮（+）可以添加新的卡片
- 点击右下角的**保存**按钮（✓）保存当前的所有更改

### 使用技巧
1. 通过显示/隐藏标题来优化界面布局
2. 可以临时隐藏不常用的卡片，而不需要删除
3. 建议在进行批量修改后及时保存
4. 删除操作前请确认，删除后需要重新添加和配置

## 7. 首页编辑
在首页编辑模式下，您可以对首页进行编辑。
<!-- 图片 -->
![首页编辑](/home.png)

### 顶部工具栏
在页面顶部右侧提供了一组功能按钮：
1. **夜间模式**：切换深色/浅色主题
2. **语言切换**：切换界面语言
3. **系统设置**：进入系统配置页面
4. **重置布局**：重置所有卡片到默认布局
5. **保存**：保存当前布局更改
6. **列数调整**：调整显示列数（带数字标记）
7. **全屏**：切换全屏显示模式

### 卡片操作
在编辑模式下，您可以对卡片进行以下操作：
1. **移动位置**：直接拖拽卡片到目标位置
2. **调整大小**：拖拽卡片右下角调整尺寸
3. **查看数据**：卡片会实时显示设备状态和数据
   - 例如天气卡片显示：体感温度、湿度、能见度、空气质量、风况等
   - 灯光状态卡片显示：设备开关状态、亮度等

### 布局建议
1. **合理分组**：
   - 将相关的卡片放置在相近位置
   - 常用的卡片放在视觉焦点区域

2. **尺寸调整**：
   - 重要信息的卡片可以适当放大
   - 信息密度较大的卡片建议使用更大尺寸

3. **列数选择**：
   - 根据屏幕大小和卡片数量选择合适的列数
   - 可以通过列数调整来优化显示效果

### 使用技巧
1. 建议定期保存布局更改，避免意外丢失
2. 可以通过重置布局来恢复默认布局
3. 调整布局时注意设备的使用频率和重要程度
4. 使用全屏模式可以获得更大的显示空间

## 8. 全局配置
在全局配置页面中，您可以进行系统相关设置。
<!-- 图片 -->
![全局配置](/global_config.png)

### 背景设置
1. **背景图片**
   - 支持通过URL添加自定义背景图片
   - 提供"上传"按钮直接上传本地图片
   - "重置"按钮可恢复默认背景

2. **背景图片说明**
   - 输入背景图片的URL地址
   - 支持网络图片链接
   - 建议使用高清图片以获得更好的显示效果

### 系统更新
1. **Beta 版本更新**
   - 通过开关控制是否接收 Beta 版本更新
   - 开启后将会收到测试版本的更新推送
   - 建议在测试环境中使用此功能

### 操作按钮
- **重置所有**：将所有配置恢复到默认状态
- **重新初始化**：重新进行系统初始化设置 （会清空用户和配置的Homeassistant地址和Token，但是会保留卡片）
- **取消**：放弃当前的修改并返回
- **保存**：确认并保存当前的配置更改

### 使用建议
1. 更换背景图片时注意图片大小，过大可能影响加载速度
2. Beta 版本可能存在不稳定性，请谨慎开启
3. 重要修改前建议先测试，确认效果后再保存



